; 📌 IT 기업 기술 블로그 분석

; — 문제 정의 방식 관점에서 바라보기

; ✍️ 분석 목적

; 이 팀은 문제를 어떻게 정의했고,

; 왜 이 해결책을 선택했는가?

; 기술 자체를 배우기보다는,

; 문제를 인식하고 정의하는 사고 과정을 이해하는 것을 목표로 한다.

; 🔍 분석 대상

; 기업 / 팀: 네이버 D2
; 글 제목: 스마트스토어센터 Oracle에서 MySQL로의 무중단 전환기
; 작성 연도: 2026년 1월 22일
; 다루는 주제: DBMS
; ① 문제는 어디서 시작됐는가?

; 이 글에서 문제는 어떤 계기로 등장했는가?

; Oracle의 리소스 경합 심화에 따른 서비스 성능 불안정
; Oracle 인프라 확장은 막대한 라이선스 비용 증가
; 성능 불안정과 운영 비효율성, 비용 압박 해소 필요
; 👉 **문제의 ‘출발점’**은 무엇이었는지 정리한다.

; ② 왜 이게 ‘문제’라고 판단했는가?

; 단순한 불편이 아니라,

; 왜 반드시 해결해야 할 문제라고 판단했는가?

; 비즈니스 성장에 따라 리소스 경합이 구조적으로 반복됨
; 라이선스 비용 증가와 직결
; 현재의 DB구조는 성능 안정성과 비용 효율성 모두 만족할 수 없음
; 장기적인 서비스 운용 관점에서 개선 필요
; 👉 ‘문제’와 ‘현상’을 구분하는 기준에 집중한다.

; ③ 문제를 어떻게 쪼갰는가?

; 하나의 큰 문제를

; 어떤 기준으로 분해했는가?

; 무중단 전환 요구사항
; 회원 파트는 타 부서 시스템과 광범위하게 연계되어 서비스 중단 불가
; DB 전환 과정에서도 읽기/쓰기 지속 필요
; 장애 발생 시 대응 한계
; DB 전환 후 성능 저하 및 장애는 핫픽스로 대응 불가
; 신속한 롤백 전략 없이는 서비스 안정성 확보 불가
; DB 종속성 문제
; MyBatis에 Oracle 전용 SQL이 다수 존재
; JPA 또한 Oracle Dialect 및 시퀀스 전략에 의존
; DB 변경 시 코드 전반 수정 필요
; 혼합 데이터 접근 구조의 리스크
; JPA와 MyBatis가 동일 DB를 동시에 사용
; 트랜잭션 및 동작 차이로 장애 원인 추적 난이도 증가
; 👉 문제를 관리 가능한 단위로 나누는 방식을 본다.

; ④ 대안은 무엇이 있었는가?

; 현재 선택한 해결책 외에

; 고려했던 다른 선택지는 무엇이었는가?

; 전환 전략: 이중 쓰기(dual write)
; 모든 쓰기 트랜잭션을 기존 DB와 새 DB 모두 반영하는 기법
; 신규 시스템 안정성 검증하는 기간 동안 두 DB의 완벽한 동기화 유지 보장
; 데이터 손실 및 서비스 중단 없이 안전한 신규 환경 전환 가능
; 전환 전 단계
; 구버전 애플리케이션은 모든 Read/Write 트래픽 Oracle 처리
; CUD 작업 시에만 백그라운드에서 MySQL에도 이중 쓰기 수행
; 데이터 마이그레이션:
; 신버전 애플리케이션 배포 전, Oracle의 전체 데이터를 MySQL로 마이그레이션
; 전환 후 단계
; 신버전 애플리케이션은 모든 Read/Write 트래픽 MySQL 처리
; CUD 작업 시 백그라운드에서 Oracle에도 이중 쓰기 수행
; 대안1. ChainedTransactionManager 사용
; Oracle과 MySQL을 하나의 트랜잭션으로 묶어 처리
; but,
; MySQL 환경이 안정화되지 않은 상태
; 일부 쿼리는 MySQL에서 오류 발생 가능
; MySQL 장애가 Oracle 트랜잭션에 직접 영향
; 대안2. 트랜잭션 내 실시간 이중 쓰기
; Oracle CUD 수행 시 즉시 MySQL에도 동일 쿼리 실행
; but,
; MySQL 처리 실패 시 복잡
; 롤백 시 두 DB 정합성 보장 어려움
; Oracle 커넥션 점유 시간 증가
; 예외 추적 난이도 상승
 
; 👉 “왜 이 방법만 있었는가?”가 아니라

; **“왜 다른 방법은 선택되지 않았는가?”**에 집중한다.

; ⑤ 왜 이 해결책을 선택했는가?

; 최종 선택의 판단 기준은 무엇이었는가?

; 이 팀에서 가장 우선시된 기준
; 기존 서비스의 안정성과 무중단 운영
; 리스크
; MySQL 환경은 아직 충분히 검증되지 않았음
; 모든 Oracle CUD 쿼리가 MySQL에서도 동일하게 동작한다는 보장이 없음
; MySQL 쿼리 실패가 서비스 트랜잭션에 영향을 주는 구조는 감수할 수 없는 리스크
; 선택한 해결책
; 트랜잭션 도중 수행되는 쿼리를 모아두었다가 Oracle 커밋 이후 별도의 트랜잭션으로 MySQL에 반영하는 방식을 선택
; MySQL 쿼리 실패를 허용하되 Oracle 쿼리 수행에는 영향을 주지 않는 구조 구축
; 이 방식은 트랜잭션 롤백 시 MySQL에 수행된 쿼리가 남지 않아 정합성 관리와 예외 추적이 용이하다는 판단에 기반한 선택
; 👉 기술 그 자체보다

; 선택의 기준과 우선순위를 파악한다.

; ⑥ 결과를 어떻게 검증했는가?

; 해결책 적용 후,

; 문제가 실제로 해결되었음을 어떻게 확인했는가?

; 타 부서와 연관된 시스템에 영향을 주지 않고 성능 검증 진행 목표
; 기존 Oracle로 향하는 Repository 계층의 Read 메서드 호출이 발생할 때 해당 메서드의 실행 시간과 함께 이름, 매개변수 값을 캡처하고 JSON으로 직렬화
; 직렬화된 데이터를 kafka 같은 메시지 큐로 전송
; 메시지 수신한 별도의 성능 측정 Consumer 모듈은 수신된 데이터를 역직렬화해 원본 메서드 이름과 매개변수 리스트 복원
; JavaReflection API를 사용해 신규 MySQL을 바라보는 Repository 인터페이스의 동일한 메서드를 찾아 매개변수를 주입하고 호출하면서 실제 서비스 호출처럼 읽기 작업을 MySQL에서 수행할 수 있었음
; 각 토픽 메시지의 실행 시간 데이터를 가지고 시각화하여 성능 검증 진행
; 성능 좋지 않은 쿼리를 수정하고 인덱스 추가 등을 수행하여 안정적인 성능 확보
; 데이터 정합성 검증
; 워크플로우 관리 도구인 Airflow로 정합성 검증 프로세스 자동화
; 주기적으로 Oracle DB와 신규 MySQL DB의 주요 테이블 데이터 추출하여 Hive 데이터 웨어하우스로 통합
; 두 데이터 셋 비교 - 레코드 수, 핵심 칼럼 값의 해시, 주요 비즈니스 통계 값의 차이 추출
; 최종적으로 정합성 100% 보장되도록 조치
; Oracle 세션 수 갑소 및 시스템 PGQ 메모리 사용량 감소
; PagingSpace Used(swap) 감소하고 메모리 자원이 추가로 확보됨
; 과제 수행 중 성능 모니터링을 통해 쿼리 튜닝을 포함한 시스템 최적화 수행 결과, 서비스 API의 Latency(응답 지연 시간)이 유의미하게 개선되었음
; 👉 *“잘 된 것 같다”*가 아니라

; 어떻게 ‘증명’했는지를 본다.

; 🧠 분석을 통해 얻은 인사이트

; 이 글을 통해 배운 문제 정의 방식은 무엇인가?

; 문제 정의는 단순히 기술적인 한계를 나열하는 것이 아니라, 현재 서비스 상황에서 절대 훼손되면 안 되는 가치를 먼저 정하는 것임을 배울 수 있었다. 해당 팀은 성능 문제와 비용 압박이라는 기술적 이슈 이전에, 무중단 서비스와 기존 시스템 안정성을 최우선 기준으로 설정했고, 그 기준에 맞춰 허용 가능한 실패(MySQL 쿼리 실패)와 절대 허용할 수 없는 실패(Oracle 트랜잭션 영향)를 명확히 구분했다. 이를 통해 문제 정의란 “어떤 기술을 쓸 것인가”가 아니라 “무엇을 지켜야 하고, 무엇은 감수할 수 있는가를 결정하는 과정”이라는 점을 이해하게 되었다
; 🔁 내 관점에서의 정리

; 이 방식을 내 분석/업무에 적용한다면?

; 데이터 분석 강의 실습을 진행하며, 그동안 나는 눈에 보이는 데이터의 이상치나 결측치를 처리하는 데에만 집중해 왔고, 왜 해당 전처리가 필요한지, 왜 이 모델로 성능을 평가하는지에 대한 문제 정의는 충분히 고민하지 못했다는 점을 인식하게 되었다.

; 이번 기술 블로그 분석을 통해, 분석의 출발점은 기법이 아니라 해결하려는 문제와 그에 따른 목표 설정이라는 점을 다시 정리할 수 있었다.

; 앞으로의 실습에서는 전처리·모델 선택·시각화 각각을 독립적인 작업으로 보지 않고,

; 문제 정의 → 목표 설정 → 분석 전략이라는 흐름 안에서 판단 근거를 함께 정리해 나가고자 한다.

; ✅ 마무리 한 줄 요약

; 이 글에서 가장 인상 깊었던 문제 정의 포인트 한 가지

; 이 글은 문제 해결을 “처음부터 완벽한 기술을 찾는 과정”이 아니라 흔들리지 않는 목표와 가치를 기준으로 검증과 조정을 반복하며 선택을 좁혀가는 과정으로 정의한 점이 인상 깊었다.